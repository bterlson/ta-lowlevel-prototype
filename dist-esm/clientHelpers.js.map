{"version":3,"file":"clientHelpers.js","sourceRoot":"","sources":["../src/clientHelpers.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,yBAAyB,EAEzB,+BAA+B,EAE/B,kBAAkB,GAEnB,MAAM,mBAAmB,CAAC;AAG3B,IAAI,iBAA0C,CAAC;AAC/C,MAAM,aAAa,GAAG,8CAA8C,CAAC;AAErE,MAAM,UAAU,qBAAqB,CACnC,UAA2B,EAC3B,UAA2B,EAAE;IAE7B,MAAM,QAAQ,GAAG,yBAAyB,CAAC,OAAO,CAAC,CAAC;IACpD,QAAQ,CAAC,SAAS,CAChB,+BAA+B,CAAC;QAC9B,UAAU;QACV,MAAM,EAAE,aAAa;KACtB,CAAC,CACH,CAAC;IAEF,OAAO,QAAQ,CAAC;AAClB,CAAC;AAED,MAAM,UAAU,2BAA2B;IACzC,IAAI,CAAC,iBAAiB,EAAE;QACtB,iBAAiB,GAAG,IAAI,kBAAkB,EAAE,CAAC;KAC9C;IAED,OAAO,iBAAiB,CAAC;AAC3B,CAAC","sourcesContent":["import {\r\n  createPipelineFromOptions,\r\n  PipelineOptions,\r\n  bearerTokenAuthenticationPolicy,\r\n  Pipeline,\r\n  DefaultHttpsClient,\r\n  HttpsClient,\r\n} from \"@azure/core-https\";\r\nimport { TokenCredential } from \"@azure/core-auth\";\r\n\r\nlet cachedHttpsClient: HttpsClient | undefined;\r\nconst DEFAULT_SCOPE = \"https://cognitiveservices.azure.com/.default\";\r\n\r\nexport function createDefaultPipeline(\r\n  credential: TokenCredential,\r\n  options: PipelineOptions = {}\r\n): Pipeline {\r\n  const pipeline = createPipelineFromOptions(options);\r\n  pipeline.addPolicy(\r\n    bearerTokenAuthenticationPolicy({\r\n      credential,\r\n      scopes: DEFAULT_SCOPE,\r\n    })\r\n  );\r\n\r\n  return pipeline;\r\n}\r\n\r\nexport function getCachedDefaultHttpsClient(): HttpsClient {\r\n  if (!cachedHttpsClient) {\r\n    cachedHttpsClient = new DefaultHttpsClient();\r\n  }\r\n\r\n  return cachedHttpsClient;\r\n}\r\n"]}